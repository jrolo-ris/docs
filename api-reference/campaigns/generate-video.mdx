---
title: 'Generate Video'
api: 'POST /campaigns/{campaignId}/generate'
description: 'Generate a personalized video for a specific campaign'
---

## Generate Standard Video

Generate a personalized video for a specific campaign with custom variables.

<ParamField path="campaignId" type="string" required>
  The unique identifier of the campaign
</ParamField>

## Request Body

<ParamField body="recipient" type="object" required>
  Information about the video recipient
</ParamField>

<ParamField body="recipient.email" type="string" required>
  Email address of the recipient
</ParamField>

<ParamField body="recipient.name" type="string">
  Name of the recipient
</ParamField>

<ParamField body="recipient.company" type="string">
  Company of the recipient
</ParamField>

<ParamField body="variables" type="object">
  Custom variables to personalize the video. The available variables depend on the campaign template.
</ParamField>

<ParamField body="callback_url" type="string">
  URL to receive a webhook notification when the video is ready
</ParamField>

<ParamField body="settings" type="object">
  Additional settings for the video generation
</ParamField>

<ParamField body="settings.quality" type="string" default="high">
  Video quality: `low`, `medium`, `high`, or `ultra`
</ParamField>

<ParamField body="settings.format" type="string" default="mp4">
  Video format: `mp4`, `webm`, or `mov`
</ParamField>

<ParamField body="settings.resolution" type="string" default="1080p">
  Video resolution: `720p`, `1080p`, or `4k`
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the request was successful
</ResponseField>

<ResponseField name="data" type="object">
  Generated video information
</ResponseField>

<ResponseField name="data.id" type="string">
  Unique identifier for the generated video
</ResponseField>

<ResponseField name="data.status" type="string">
  Status of the video generation: `queued`, `processing`, `completed`, or `failed`
</ResponseField>

<ResponseField name="data.campaign_id" type="string">
  ID of the campaign used to generate the video
</ResponseField>

<ResponseField name="data.recipient" type="object">
  Information about the video recipient
</ResponseField>

<ResponseField name="data.created_at" type="string">
  ISO timestamp of when the video generation was requested
</ResponseField>

<ResponseField name="data.completed_at" type="string">
  ISO timestamp of when the video generation was completed (null if not completed)
</ResponseField>

<ResponseField name="data.video_url" type="string">
  URL to the generated video (null if not completed)
</ResponseField>

<ResponseField name="data.thumbnail_url" type="string">
  URL to the video thumbnail (null if not completed)
</ResponseField>

<ResponseField name="data.share_url" type="string">
  Public URL to share the video (null if not completed)
</ResponseField>

<ResponseField name="data.tracking_id" type="string">
  Unique tracking ID for analytics
</ResponseField>

## Example Request

```bash
curl -X POST "https://api.example.com/v1/campaigns/camp_1a2b3c4d5e6f/generate" \
  -H "x-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "recipient": {
      "email": "john.doe@example.com",
      "name": "John Doe",
      "company": "Acme Inc."
    },
    "variables": {
      "product_name": "Premium Plan",
      "discount": "20%",
      "expiry_date": "April 30, 2025"
    },
    "callback_url": "https://your-app.com/webhooks/video-ready",
    "settings": {
      "quality": "high",
      "format": "mp4",
      "resolution": "1080p"
    }
  }'
```

```javascript
const axios = require('axios');

const apiKey = process.env.API_KEY;
const campaignId = 'camp_1a2b3c4d5e6f';

async function generateVideo() {
  try {
    const response = await axios.post(
      `https://api.example.com/v1/campaigns/${campaignId}/generate`,
      {
        recipient: {
          email: 'john.doe@example.com',
          name: 'John Doe',
          company: 'Acme Inc.'
        },
        variables: {
          product_name: 'Premium Plan',
          discount: '20%',
          expiry_date: 'April 30, 2025'
        },
        callback_url: 'https://your-app.com/webhooks/video-ready',
        settings: {
          quality: 'high',
          format: 'mp4',
          resolution: '1080p'
        }
      },
      {
        headers: {
          'x-api-key': apiKey,
          'Content-Type': 'application/json'
        }
      }
    );
    return response.data;
  } catch (error) {
    console.error('Error generating video:', error);
  }
}
```

```python
import requests
import os
import json

api_key = os.environ.get('API_KEY')
campaign_id = 'camp_1a2b3c4d5e6f'

def generate_video():
    headers = {
        'x-api-key': api_key,
        'Content-Type': 'application/json'
    }
    
    payload = {
        'recipient': {
            'email': 'john.doe@example.com',
            'name': 'John Doe',
            'company': 'Acme Inc.'
        },
        'variables': {
            'product_name': 'Premium Plan',
            'discount': '20%',
            'expiry_date': 'April 30, 2025'
        },
        'callback_url': 'https://your-app.com/webhooks/video-ready',
        'settings': {
            'quality': 'high',
            'format': 'mp4',
            'resolution': '1080p'
        }
    }
    
    response = requests.post(
        f'https://api.example.com/v1/campaigns/{campaign_id}/generate',
        headers=headers,
        data=json.dumps(payload)
    )
    response.raise_for_status()
    return response.json()
```

## Example Response

```json
{
  "success": true,
  "data": {
    "id": "vid_7g8h9i0j1k2l",
    "status": "queued",
    "campaign_id": "camp_1a2b3c4d5e6f",
    "recipient": {
      "email": "john.doe@example.com",
      "name": "John Doe",
      "company": "Acme Inc."
    },
    "created_at": "2025-04-10T16:45:00Z",
    "completed_at": null,
    "video_url": null,
    "thumbnail_url": null,
    "share_url": null,
    "tracking_id": "trk_3e4f5g6h7i8j"
  }
}
```

## Webhook Notification

When the video generation is complete, a webhook notification will be sent to the `callback_url` if provided:

```json
{
  "event": "video.generated",
  "video": {
    "id": "vid_7g8h9i0j1k2l",
    "status": "completed",
    "campaign_id": "camp_1a2b3c4d5e6f",
    "recipient": {
      "email": "john.doe@example.com",
      "name": "John Doe",
      "company": "Acme Inc."
    },
    "created_at": "2025-04-10T16:45:00Z",
    "completed_at": "2025-04-10T16:47:30Z",
    "video_url": "https://assets.example.com/videos/vid_7g8h9i0j1k2l.mp4",
    "thumbnail_url": "https://assets.example.com/thumbnails/vid_7g8h9i0j1k2l.jpg",
    "share_url": "https://share.example.com/v/vid_7g8h9i0j1k2l",
    "tracking_id": "trk_3e4f5g6h7i8j"
  }
}
```

## Error Responses

<ResponseField name="success" type="boolean">
  Always `false` for error responses
</ResponseField>

<ResponseField name="error" type="object">
  Error details
</ResponseField>

<ResponseField name="error.code" type="string">
  Error code
</ResponseField>

<ResponseField name="error.message" type="string">
  Human-readable error message
</ResponseField>

### 404 Not Found

```json
{
  "success": false,
  "error": {
    "code": "not_found",
    "message": "Campaign not found"
  }
}
```

### 400 Bad Request

```json
{
  "success": false,
  "error": {
    "code": "invalid_request",
    "message": "Missing required field: recipient.email"
  }
}
```

### 402 Payment Required

```json
{
  "success": false,
  "error": {
    "code": "insufficient_credits",
    "message": "Your account does not have enough credits to generate this video"
  }
}
